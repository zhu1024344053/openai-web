import{b as e,x as a,e as s,a as l,r,a4 as i,h as o,j as d,A as t,l as n,z as u,i as m,w as p,ae as c,I as g,J as f,o as v,af as h,ag as w,P as x,a1 as y,ah as _,ai as b,ad as V,y as k,aj as j,q as z,_ as q}from"./index-f46b5e3d.js";/* empty css                  *//* empty css                 */import{u as C,a as U,_ as M}from"./openAiLogo-d9ec44eb.js";/* empty css                */const R=""+new URL("bg-image-5bd91f13.png",import.meta.url).href,A=e=>(g("data-v-d4ca8650"),e=e(),f(),e),B={class:"login-container"},F=A((()=>u("header",null,[u("div",{class:"logo"},[u("img",{src:U})])],-1))),I={key:1,class:"login card"},L=A((()=>u("div",{class:"title"},[u("img",{src:U})],-1))),P={class:"content"},E={class:"login-field"},J=A((()=>u("div",{class:"left"},null,-1))),S={class:"right"},T={key:2,class:"register card"},D=A((()=>u("div",{class:"title"},[u("h1",null,"注册")],-1))),G={class:"content"},H={class:"login-field"},K=A((()=>u("div",{class:"left"},null,-1))),N={class:"right"},O=A((()=>u("div",{class:"bg-image"},[u("img",{src:R})],-1))),Q=q(e({__name:"index",setup(e){const g=a(),f=C(),q=s((()=>f.showThemeSwitch)),U=l(!1),R=l(null),A=r({username:"john.doe@example.com",password:"password123"}),Q={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},W=()=>{var e;null==(e=R.value)||e.validate((e=>{if(!e)return!1;U.value=!0,k().login({Email:A.username,Password:A.password}).then((()=>{g.push({path:"/"})})).catch((e=>{A.password=""})).finally((()=>{U.value=!1}))}))};let X=l(!0);const Y=e=>{X.value=e},Z=l(null),$={email:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:8,max:16,message:"长度在 8 到 16 个字符",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"}]},ee=r({email:"",password:""}),ae=()=>{var e;null==(e=Z.value)||e.validate((e=>{e&&j(ee).then((e=>{U.value=!1,Y(!0),z({message:"注册成功，请登录！",type:"success"})})).catch((e=>{U.value=!1,z({message:"错误："+e.msg,type:"error"})}))}))};return i((()=>{})),(e,a)=>{const s=_,l=b,r=V,i=c;return v(),o("div",B,[F,q.value?(v(),d(M,{key:0,class:"theme-switch"})):t("",!0),n(X)?(v(),o("div",I,[L,u("div",P,[m(i,{ref_key:"loginFormRef",ref:R,model:A,rules:Q},{default:p((()=>[m(l,{prop:"username"},{default:p((()=>[m(s,{modelValue:A.username,"onUpdate:modelValue":a[0]||(a[0]=e=>A.username=e),modelModifiers:{trim:!0},placeholder:"用户名",type:"text",tabindex:"1","prefix-icon":n(h),size:"large"},null,8,["modelValue","prefix-icon"])])),_:1}),m(l,{prop:"password"},{default:p((()=>[m(s,{modelValue:A.password,"onUpdate:modelValue":a[1]||(a[1]=e=>A.password=e),modelModifiers:{trim:!0},placeholder:"密码",type:"password",tabindex:"2","prefix-icon":n(w),size:"large","show-password":""},null,8,["modelValue","prefix-icon"])])),_:1}),u("div",E,[J,u("div",S,[x(" 没有账号？ "),m(r,{type:"text",onClick:a[2]||(a[2]=e=>Y(!1))},{default:p((()=>[x("点此注册")])),_:1})])]),m(r,{class:"logoBtn",loading:U.value,type:"primary",size:"large",onClick:y(W,["prevent"])},{default:p((()=>[x(" 登 录 ")])),_:1},8,["loading","onClick"])])),_:1},8,["model"])])])):(v(),o("div",T,[D,u("div",G,[m(i,{ref_key:"registerFormRef",ref:Z,model:ee,rules:$},{default:p((()=>[m(l,{prop:"email"},{default:p((()=>[m(s,{modelValue:ee.email,"onUpdate:modelValue":a[3]||(a[3]=e=>ee.email=e),modelModifiers:{trim:!0},placeholder:"用户名",type:"text",tabindex:"1","prefix-icon":n(h),size:"large"},null,8,["modelValue","prefix-icon"])])),_:1}),m(l,{prop:"password"},{default:p((()=>[m(s,{modelValue:ee.password,"onUpdate:modelValue":a[4]||(a[4]=e=>ee.password=e),modelModifiers:{trim:!0},placeholder:"密码",type:"password",tabindex:"2","prefix-icon":n(w),size:"large","show-password":""},null,8,["modelValue","prefix-icon"])])),_:1}),u("div",H,[K,u("div",N,[x(" 已有账号？ "),m(r,{type:"text",onClick:a[5]||(a[5]=e=>Y(!0))},{default:p((()=>[x("点此登录")])),_:1})])]),m(r,{class:"logoBtn",loading:U.value,type:"primary",size:"large",onClick:y(ae,["prevent"])},{default:p((()=>[x(" 注 册 ")])),_:1},8,["loading","onClick"])])),_:1},8,["model"])])])),O])}}}),[["__scopeId","data-v-d4ca8650"]]);export{Q as default};
